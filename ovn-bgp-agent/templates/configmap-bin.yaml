{{- if .Values.manifests.configmap_bin }}
{{- $envAll := . }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: ovn-bgp-agent-bin
data:
  ip-utils.sh: |
{{ tuple "bin/_ip-utils.sh.tpl" . | include "helm-toolkit.utils.template" | indent 4 }}
  ovn-bgp-agent.sh: |
{{ tuple "bin/_ovn-bgp-agent.sh.tpl" . | include "helm-toolkit.utils.template" | indent 4 }}
  frr-init.sh: |
{{ tuple "bin/_frr-init.sh.tpl" . | include "helm-toolkit.utils.template" | indent 4 }}
  frr-config-gen.sh: |
{{ tuple "bin/_frr-config-gen.sh.tpl" . | include "helm-toolkit.utils.template" | indent 4 }}
  image-repo-sync.sh: |
{{ tuple "bin/_image-repo-sync.sh.tpl" . | include "helm-toolkit.utils.template" | indent 4 }}
{{- $isOvnMode := eq (.Values.conf.ovn_bgp_agent.DEFAULT.exposing_method | default "underlay") "ovn" }}
{{- if $isOvnMode }}
  init-local-ovn.sh: |
{{ tuple "bin/_init-local-ovn.sh.tpl" . | include "helm-toolkit.utils.template" | indent 4 }}
  ovn-northd.sh: |
{{ tuple "bin/_ovn-northd.sh.tpl" . | include "helm-toolkit.utils.template" | indent 4 }}
  ovn-controller.sh: |
{{ tuple "bin/_ovn-controller.sh.tpl" . | include "helm-toolkit.utils.template" | indent 4 }}
{{- end }}
{{- end }}